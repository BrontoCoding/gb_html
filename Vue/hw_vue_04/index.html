<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <link rel="stylesheet" href="style.css" />
    <title>Vue</title>
  </head>
  <body>
    <p>
      Вы разрабатываете приложение для отображения и сортировки списка товаров. У вас есть массив объектов products, где
      каждый объект представляет товар с его названием и ценой. Вам необходимо отобразить список товаров и предоставить
      пользователю возможность сортировать товары по цене (по возрастанию и по убыванию).
    </p>
    <div id="app">
      <button @click="sort('asc')">сортировать по возрастанию</button>
      <button @click="sort('desc')">сортировать по убыванию</button>
      <ul>
        <li v-for="product in products">
          <p class="product">{{product.name}} <span>{{product.price}}</span></p>
        </li>
      </ul>
    </div>
    <p>
      <!--  -->
      <script>
        const app = new Vue({
          el: "#app",
          data: {
            products: [],
            message: "Перевернуть",
          },
          methods: {
            sort: function (sortType) {
              this.products = this.products.sort((a, b) =>
                sortType && sortType === "desc" ? b.price - a.price : a.price - b.price
              );
            },
          },
          created() {
            console.log("Starting...");
            console.log("Generate products...");

            const count = Math.round(3 + Math.random() * 8);

            for (let i = 0; i < count; i++) {
              const p = { name: `product ${i}`, price: Math.round(1000 + Math.random() * 20000) };
              this.products.push(p);
              console.log(p.name, p.price);
            }

            console.log("Run");
          },
        });
      </script>
    </p>
  </body>
</html>
